<!-- history.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>STREMA</title>
  <link rel="stylesheet" href="styles/history.css">
  <link rel="stylesheet" href="styles/general.css">
  <script src="/eel.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js" defer></script>
  <link rel="icon" href="assets/logo.png" type="image/png">
</head>

<body>
  <!-- Navigation Bar -->
  <div class="navbar">
    <h3 class="logo">STREMA</h3>
    <div class="nav-section">
      <p class="nav-item" onclick="navigateWithSlide('home.html', 'left')">Home</p>
      <p class="nav-item" onclick="navigateWithSlide('recommendation.html', 'right')">Recommendations</p>
      <p class="nav-item active" onclick="navigateWithSlide('history.html', 'left')">History</p>
      <p class="nav-item" onclick="navigateWithSlide('settings.html', 'right')">Settings</p>
    </div>
    <div class="username-container">
      <img class="user-icon" src="assets/user_icon.png" alt="User">
      <span class="username" id="displayUsername">Username</span>
    </div>
  </div>

  <!-- Hero Section -->
  <div class="hero">
    <h1 class="hero-title">Detection History</h1>
    <p class="hero-text">Here are all your previous stress detection sessions.</p>
  </div>

  <!-- Chart Section -->
  <section class="result-section">
    <h2>Stress Level Over Time</h2>
    <div style="max-width:100%; overflow:auto;">
      <canvas id="stressChart" style="max-height:360px;"></canvas>
    </div>

    <div style="margin: 16px 0;">
      <label for="filterByTime"><b>View by:</b></label>
      <select id="filterByTime">
        <option value="day" selected>Today</option>
        <option value="week">This Week</option>
        <option value="month">This Month</option>
        <option value="year">This Year</option>
      </select>

      <label for="filterByMode" style="margin-left: 16px;"><b>Mode:</b></label>
      <select id="filterByMode">
        <option value="all" selected>All</option>
        <option value="both">Both</option>
        <option value="facial">Facial</option>
        <option value="heart">Heart Rate</option>
      </select>
    </div>


    <table class="history-table" id="historyTable" data-sort-dir="">
      <thead>
        <tr>
          <th>#</th>
          <th>Date</th>
          <th>Time</th>
          <th>Mode</th>
          <th>Heart Rate</th>
          <th>Stress Level (1â€“10)</th>
        </tr>
      </thead>
      <tbody id="historyBody">
        <!-- Filled dynamically -->
      </tbody>
    </table>
  </section>

  <!-- Summary Section -->
  <section class="result-section" id="historySummary" style="margin-top:24px;">
    <!-- Filled dynamically -->
  </section>
</body>
</html>
